<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base target="_top">
    <title>ì¹´í…Œê³ ë¦¬ ë§¤ì¹­ ê²Œì„</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard/dist/web/static/pretendard.css">
    <style>
        :root {
            --bg: #F2F4F6; /* Toss gray-100 */
            --text: #333D4B; /* gray-800 */
            --muted: #6B7684; /* gray-600 */

            --primary: #3182F6; /* blue-500 */
            --primary-hover: #1B64DA; /* blue-600 */
            --primary-shadow: rgba(49,130,246,0.3);

            --success: #00C473;
            --success-hover: #05A660;
            --danger: #FF5B56;
            --danger-hover: #E3493D;

            --desc-bg: #FFFFFF;
            --desc-border: #E5E8EB; /* gray-200 */
            --desc-hover-bg: #F9FAFB; /* gray-50 */

            --category-bg: #E8F3FF; /* blue-50 */
            --category-border: #3182F6; /* primary */
            --category-hover-bg: #DDEBFF;

            --drag-over-bg: #E8F3FF;
            --matched-bg: rgba(0, 196, 115, 0.12);
            --accent: #F59E0B; /* nickname accent (amber-500) */

            /* Radius & Spacing */
            --radius-container: 16px;
            --radius-card: 12px;
            --radius-button: 12px;

            --space-1: 8px;
            --space-2: 12px;
            --space-3: 16px;
            --space-4: 20px;
            --space-5: 24px;
            --space-6: 32px;

            /* Controls */
            --control-height: 44px;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "ë§‘ì€ ê³ ë”•", sans-serif;
            background: var(--bg);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            background: white;
            border-radius: var(--radius-container);
            padding: var(--space-6);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 800px;
            width: 90%;
        }

        .email-form {
            text-align: center;
            margin-bottom: 30px;
        }

        .email-form h1 {
            color: var(--text);
            margin-bottom: var(--space-3);
            font-size: 28px;
        }

        .email-form input {
            padding: 12px 16px;
            border: 1px solid var(--desc-border);
            border-radius: var(--radius-button);
            font-size: 16px;
            width: 300px;
            margin-right: var(--space-2);
            outline: none;
            transition: border-color 0.3s;
            height: var(--control-height);
        }

        .email-form input:focus {
            border-color: var(--primary);
        }

        .nickname-note {
            margin-top: var(--space-2);
            font-size: 13px;
            color: var(--muted);
        }

        .nickname-row {
            display: inline-flex;
            gap: var(--space-2);
            align-items: center;
            justify-content: center;
            margin-top: var(--space-2);
        }

        .nickname-highlight {
            font-size: 18px;
            font-weight: 700;
            color: var(--accent);
        }

        .email-actions {
            display: flex;
            gap: var(--space-2);
            justify-content: center;
            align-items: center;
            margin-top: var(--space-5);
        }
        .secondary-btn {
            background: #FFFFFF;
            color: var(--text);
            border: 1px solid var(--desc-border);
        }
        .secondary-btn:hover {
            background: var(--desc-hover-bg);
        }

        .nickname-change-btn {
            color: var(--accent);
            background: transparent;
            border-color: var(--accent);
            height: 32px;
            font-size: 14px;
            padding: 4px 10px;
        }
        /* ê°•ì œ ì˜¤ë²„ë¼ì´ë“œ: ì–´ë–¤ ê²½ìš°ì—ë„ ì±„ì›Œì§€ì§€ ì•Šë„ë¡ */
        .btn.nickname-change-btn {
            background: transparent !important;
            border: 1px solid var(--accent) !important;
            color: var(--accent) !important;
        }
        .nickname-change-btn:hover {
            background: transparent;
        }
        .nickname-change-btn .icon {
            font-size: 14px;
            margin-right: 6px;
            line-height: 1;
            display: inline-block;
        }
        .nickname-change-btn .icon.spin {
            animation: spin 0.6s ease-in-out;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: var(--radius-button);
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
            vertical-align: middle;
        }
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Match game-start button height with email input */
        .email-form .btn {
            height: var(--control-height);
            padding: 0 var(--space-3);
        }

        .btn:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
        }

        /* ë²„íŠ¼ í˜¸ë²„ ì»¬ëŸ¬ */
        .save-btn:hover {
            background: var(--success-hover);
        }
        .reset-btn:hover {
            background: var(--danger-hover);
        }

        .game-area {
            display: none;
        }

        .game-header {
            text-align: center;
            margin-bottom: var(--space-5);
        }

        .game-header h2 {
            color: var(--text);
            margin-bottom: 10px;
        }

        .user-info {
            color: var(--muted);
            font-size: 14px;
        }

        .game-content {
            display: flex;
            justify-content: space-between;
            gap: var(--space-5);
            margin-bottom: var(--space-5);
        }

        .categories, .descriptions {
            flex: 1;
        }

        .categories h3, .descriptions h3 {
            text-align: center;
            margin-bottom: var(--space-3);
            color: var(--text);
            font-size: 20px;
        }

        /* ê³µìš© í—¤ë”(ì¢Œ: ê¸°ëŠ¥ì„¤ëª…, ìš°: ì¹´í…Œê³ ë¦¬) */
        .lists-header {
            display: flex;
            justify-content: space-between;
            align-items: stretch;
            gap: var(--space-5);
            margin-bottom: var(--space-2);
        }
        .lists-header > div {
            flex: 1;
            display: flex;
            align-items: center;
        }
        .lists-controls {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-top: var(--space-2);
            margin-bottom: var(--space-2);
        }
        .title-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }
        .lists-header h3 {
            margin: 0;
            color: var(--text);
            font-size: 20px;
        }

        .category-item {
            background: var(--category-bg);
            border: 1px solid var(--category-border);
            border-radius: var(--radius-card);
            padding: var(--space-3);
            margin-bottom: var(--space-3);
            cursor: pointer;
            transition: all 0.3s;
            user-select: none;
        }

        .category-item:hover {
            background: var(--category-hover-bg);
            transform: translateY(-2px);
            box-shadow: 0 8px 16px var(--primary-shadow);
        }

        .description-item {
            background: var(--desc-bg);
            border: 1px solid var(--desc-border);
            border-radius: var(--radius-card);
            padding: var(--space-3);
            margin-bottom: var(--space-3);
            cursor: move;
            transition: all 0.3s;
            user-select: none;
        }

        .description-item:hover {
            background: var(--desc-hover-bg);
            transform: translateY(-2px);
            box-shadow: 0 8px 16px var(--primary-shadow);
        }

        .category-item.drag-over {
            border-color: var(--primary);
            background: var(--drag-over-bg);
        }

        .descriptions.drag-over {
            outline: 1px dashed var(--primary);
            outline-offset: 6px;
            background: var(--drag-over-bg);
        }

        .description-item.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .matched {
            background: #FFFFFF !important; /* ê°€ë…ì„±ì„ ìœ„í•´ í°ìƒ‰ ìœ ì§€ */
            border-color: var(--success) !important; /* ë§¤ì¹­ ê°•ì¡°ëŠ” í…Œë‘ë¦¬ ìƒ‰ìœ¼ë¡œ */
        }

        /* ì¹´í…Œê³ ë¦¬ì— ë“¤ì–´ê°„ ì•„ì´í…œì€ ì¡°ê¸ˆ ì»´íŒ©íŠ¸í•˜ê²Œ í‘œì‹œ */
        .description-item.in-category {
            margin-top: var(--space-2);
            font-size: 14px;
            cursor: move;
        }

        .result-section {
            text-align: center;
            margin-top: var(--space-5);
            width: 100%;
        }
        .result-actions {
            display: flex;
            gap: var(--space-2);
            justify-content: center;
            align-items: center;
            margin-bottom: var(--space-2);
        }
        /* ë²„íŠ¼ ë†’ì´/íŒ¨ë”© í†µì¼ë¡œ ì‹œê° ë†’ì´ ì¼ì¹˜ */
        .result-actions .btn {
            height: var(--control-height);
            padding: 0 var(--space-3);
            margin-top: 0;
        }
        .result-actions .save-btn { margin-top: 0; }
        .result-actions .secondary-btn { margin-top: 0; }
        #saveProgress {
            max-width: 360px;
            margin-left: auto;
            margin-right: auto;
        }

        .save-btn {
            background: var(--success);
            margin-top: var(--space-3);
        }

        .reset-btn {
            background: var(--danger);
            display: inline-flex;
            margin-bottom: var(--space-2);
        }

        .results-display {
            background: #FFFFFF;
            border: 1px solid var(--desc-border);
            border-radius: var(--radius-card);
            padding: var(--space-3);
            margin-top: var(--space-3);
            text-align: left;
        }

        .results-display h4 {
            margin-bottom: 15px;
            color: var(--text);
        }

        .match-result {
            padding: 8px 12px;
            margin: 6px 0;
            background: var(--desc-hover-bg);
            border-radius: var(--radius-card);
            border: 1px solid var(--desc-border);
            border-left: 4px solid var(--desc-border);
        }

        /* ì €ì¥ í›„ ë¹„í™œì„±í™” ìƒíƒœ */
        .disable-interaction {
            pointer-events: none;
            opacity: 0.6;
        }

        /* ì €ì¥ ì§„í–‰ í‘œì‹œ ë°” */
        .progress-bar {
            position: relative;
            height: 4px;
            background: var(--desc-border);
            border-radius: 9999px;
            overflow: hidden;
            margin-top: var(--space-2);
        }
        .progress-bar .bar {
            position: absolute;
            left: -40%;
            width: 40%;
            height: 100%;
            background: var(--primary);
            border-radius: inherit;
            animation: indeterminate 1.2s ease-in-out infinite;
        }
        @keyframes indeterminate {
            0% { left: -40%; width: 40%; }
            50% { left: 20%; width: 60%; }
            100% { left: 100%; width: 40%; }
        }

        /* ì¹´í…Œê³ ë¦¬ ìš”ì•½ */
        .category-summary {
            background: #FFFFFF;
            border: 1px solid var(--desc-border);
            border-radius: var(--radius-card);
            padding: var(--space-3);
            margin: var(--space-3) 0;
        }
        .category-summary h4 {
            margin: 0 0 var(--space-2) 0;
            font-size: 14px;
            color: var(--muted);
        }
        .category-summary .chips {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-1);
        }
        .category-summary .summary-desc {
            margin-top: var(--space-2);
            margin-bottom: var(--space-3);
            color: var(--muted);
            font-size: 13px;
        }
        .chip {
            display: inline-flex;
            align-items: center;
            padding: 6px 10px;
            background: var(--category-bg);
            border: 1px solid var(--category-border);
            border-radius: 9999px;
            font-size: 12px;
            color: var(--text);
        }

        @media (max-width: 768px) {
            .game-content {
                flex-direction: column;
            }
            
            .email-form input {
                width: 250px;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="email-form" id="emailForm">
            <h1>ì¹´í…Œê³ ë¦¬ ë§¤ì¹­ ê²Œì„</h1>
            <p style="margin-bottom: 20px; color: #666;">ì•„ë˜ ë³„ëª…ìœ¼ë¡œ ë°”ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.</p>
            <div class="nickname-row">
                <span id="nicknameDisplay" class="nickname-highlight"></span>
                <button class="btn secondary-btn nickname-change-btn" type="button" onclick="regenerateNickname()"><span class="icon" aria-hidden="true">ğŸ²</span>ë³„ëª… ë°”ê¾¸ê¸°</button>
            </div>
            <div class="email-actions">
                <button class="btn" type="button" onclick="startGame()">ê²Œì„ ì‹œì‘</button>
            </div>
        </div>

        <div class="game-area" id="gameArea">
            <div class="game-header">
                <h2>ì¹´í…Œê³ ë¦¬ì™€ ê¸°ëŠ¥ì„ ë§¤ì¹­í•´ë³´ì„¸ìš”!</h2>
                <div class="user-info" id="userInfo"></div>
                <p style="color: #666; margin-top: 10px;">ì™¼ìª½ ê¸°ëŠ¥ ì„¤ëª…ì„ ë“œë˜ê·¸í•´ì„œ ì˜¤ë¥¸ìª½ ì ì ˆí•œ ì¹´í…Œê³ ë¦¬ì— ë†“ì•„ì£¼ì„¸ìš”.</p>
                <div style="background: #F2F4F6; border: 1px solid #E5E8EB; border-radius: 8px; padding: 12px; margin-top: 15px; font-size: 14px; color: #333D4B; text-align: left; line-height: 1.5;">
                    <strong>ğŸ“ ê²Œì„ë°©ë²•:</strong><br>
                    1. ì™¼ìª½ ê¸°ëŠ¥ ì„¤ëª…ì„ ë³´ê³  ê±°ê¸°ì— í•´ë‹¹í•  ê²ƒ ê°™ì€ ì¹´í…Œê³ ë¦¬ì— ë“œë˜ê·¸í•˜ì„¸ìš”.<br>
                    2. 1ê°œì˜ ì¹´í…Œê³ ë¦¬ì— ì—¬ëŸ¬ê°œì˜ ê¸°ëŠ¥ì„¤ëª…ì„ ë„£ì„ ìˆ˜ ìˆì–´ìš”.<br>
                    <strong>3. ì •ë‹µì€ ì—†ì–´ìš”!!!!</strong><br>
                    4. ë§¤ì¹­ì„ ì™„ë£Œ í–ˆìœ¼ë©´ ê¼­ ë§¨ ëì— 'ê²°ê³¼ ì €ì¥' ë²„íŠ¼ì„ ëˆŒëŸ¬ ì œì¶œí•´ì£¼ì„¸ìš”.<br>
                    5. ê¸°ëŠ¥ ì„¤ëª…ì´ ì—†ëŠ” ì¹´í…Œê³ ë¦¬ëŠ” ì—†ì–´ìš”. 1ê°œ ì¹´í…Œê³ ë¦¬ì— ì—¬ëŸ¬ ê¸°ëŠ¥ì´ ë§¤ì¹­ë  ìˆ˜ë„ ìˆì–´ìš”.
                </div>
            </div>

            <div class="category-summary">
                <h4>ì¹´í…Œê³ ë¦¬ ìš”ì•½</h4>
                <p class="summary-desc">ì¹´í…Œê³ ë¦¬ëŠ” ì´ëŸ° ì¹´í…Œê³ ë¦¬ê°€ ìˆì–´ìš”. ë¯¸ë¦¬ í™•ì¸í•˜ê³  ê³ ë¯¼í•´ ë³´ì„¸ìš”~!</p>
                <div class="chips" id="categorySummary"></div>
            </div>

            <div class="lists-controls">
                <button class="btn reset-btn" id="reset-button" type="button">ì´ˆê¸°í™”</button>
            </div>

            <div class="lists-header">
                <div class="descriptions-header">
                    <div class="title-row">
                        <h3>ê¸°ëŠ¥ ì„¤ëª…</h3>
                    </div>
                </div>
                <div class="categories-header">
                    <div class="title-row">
                        <h3>ì¹´í…Œê³ ë¦¬</h3>
                    </div>
                </div>
            </div>

            <div class="game-content">
                <div class="descriptions" ondrop="dropToLeft(event)" ondragover="allowDrop(event)">
                    <div class="description-item" draggable="true" data-description="A" ondragstart="drag(event)">
                        <strong>ê³ ê°ê³¼ ìƒë‹´í•  ê¸°ëŠ¥ì´ í•„ìš”í•´</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="B" ondragstart="drag(event)">
                        <strong>êµ¬ë§¤í‰ì„ ë” ì˜ ë³´ì—¬ì£¼ê³  ì‹¶ì–´. ì•„ì„ì›¹ ë¦¬ë·° ê¸°ëŠ¥ìœ¼ë¡œëŠ” ë¶€ì¡±í•´</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="C" ondragstart="drag(event)">
                        <strong>ì‚¬ì´íŠ¸ì— ì¡°ê±´ ê±¸ì–´ì„œ íŒì—… ë„ì›Œì•¼í•˜ëŠ”ë° ì•„ì„ì›¹ì€ ì•ˆë¼ë„¤</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="D" ondragstart="drag(event)">
                        <strong>íŠ¹ì • ê³ ê°ì„ íƒ€ê²Ÿí•´ì„œ ì¹´ì¹´ì˜¤í†¡ ë©”ì„¸ì§€ ë³´ë‚´ê³  ì‹¶ì–´</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="E" ondragstart="drag(event)">
                        <strong>ë©”íƒ€ ê´‘ê³  ì—°ë™í•´ì•¼í•´</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="F" ondragstart="drag(event)">
                        <strong>ì§€ê·¸ì¬ê·¸ì—ì„œ ìƒí’ˆ ì˜¬ë¦¬ê³  ì£¼ë¬¸ ë°›ì•„ì•¼í•´</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="G" ondragstart="drag(event)">
                        <strong>ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸  ì—°ë™ì´ í•„ìš”í•´</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="H" ondragstart="drag(event)">
                        <strong>ìš°ë¦¬ê°€ ë§Œë“ ì˜ìƒ ì˜¬ë ¤ì•¼í•˜ëŠ”ë° ì–´ë–»ê²Œ ì˜¬ë¦¬ì§€</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="I" ondragstart="drag(event)">
                        <strong>íƒë°° í˜¼ì ê´€ë¦¬ í˜ë“¤ë‹¤</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="J" ondragstart="drag(event)">
                        <strong>ë°˜ì°¬ ì •ê¸°êµ¬ë… ê²°ì œë¥¼ ë°›ì•„ì•¼í•´</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="K" ondragstart="drag(event)">
                        <strong>ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ ë§Œë“œëŠ” ê²Œ ë„ˆë¬´ ì–´ë ¤ì›Œ. ì†”ë£¨ì…˜ ì—†ë‚˜</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="L" ondragstart="drag(event)">
                        <strong>ë„¤ì´ë²„ ì‡¼í•‘ ì¹´íƒˆë¡œê·¸? EP? ì—°ë™í•´ì•¼í•˜ëŠ”ë°</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="M" ondragstart="drag(event)">
                        <strong>ë‚´ ì‚¬ì´íŠ¸ë¡œ ì–´ë–»ê²Œ ë“¤ì–´ì˜¤ëŠ”ì§€ ì•Œê³  ì „í™˜ìœ¨ ê°™ì€ ê²Œ ê¶ê¸ˆí•´</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="N" ondragstart="drag(event)">
                        <strong>ì‚¬ì´íŠ¸ íŠ¹ì„±ìƒ ì„±ì¸ì¸ì¦ì´ ê¼­ í•„ìš”í•œë° ì–´ë–»ê²Œ í•˜ì§€</strong>
                    </div>
                    <div class="description-item" draggable="true" data-description="O" ondragstart="drag(event)">
                        <strong>ìš°ë¦¬ ì‚¬ì´íŠ¸ì— ë„¤ì´ë²„í˜ì´ ë¶™ì¼ ê±°ì•¼</strong>
                    </div>
                </div>

                <div class="categories">
                    <div class="category-item" data-category="A" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>CRM/íŒì—…/ëª¨ë‹¬</strong>
                        <div class="matched-items" id="categoryA-items"></div>
                    </div>
                    <div class="category-item" data-category="B" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>ë¦¬ë·°</strong>
                        <div class="matched-items" id="categoryB-items"></div>
                    </div>
                    <div class="category-item" data-category="C" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>ê³ ê°ìƒë‹´ ë° CSê´€ë¦¬</strong>
                        <div class="matched-items" id="categoryC-items"></div>
                    </div>
                    <div class="category-item" data-category="D" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>íšŒì›ê°€ì… ìµœì í™”</strong>
                        <div class="matched-items" id="categoryD-items"></div>
                    </div>
                    <div class="category-item" data-category="E" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>ê´‘ê³  ê´€ë¦¬</strong>
                        <div class="matched-items" id="categoryE-items"></div>
                    </div>
                    <div class="category-item" data-category="F" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>ì£¼ë¬¸ê´€ë¦¬/íŒë§¤ì±„ë„</strong>
                        <div class="matched-items" id="categoryF-items"></div>
                    </div>
                    <div class="category-item" data-category="G" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>SNS/ì†Œì…œë¯¸ë””ì–´</strong>
                        <div class="matched-items" id="categoryG-items"></div>
                    </div>
                    <div class="category-item" data-category="H" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>ì˜ìƒ/ë¼ì´ë¸Œì»¤ë¨¸ìŠ¤/ìˆí¼</strong>
                        <div class="matched-items" id="categoryH-items"></div>
                    </div>
                    <div class="category-item" data-category="I" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>ë°°ì†¡/ë¬¼ë¥˜/í’€í•„ë¨¼íŠ¸</strong>
                        <div class="matched-items" id="categoryI-items"></div>
                    </div>
                    <div class="category-item" data-category="J" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>ê²°ì œ</strong>
                        <div class="matched-items" id="categoryJ-items"></div>
                    </div>
                    <div class="category-item" data-category="K" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>ì½˜í…ì¸  ì œì‘/ê´€ë¦¬</strong>
                        <div class="matched-items" id="categoryK-items"></div>
                    </div>
                    <div class="category-item" data-category="L" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>í†µê³„ ë° ë§¤ì¶œ ë¶„ì„</strong>
                        <div class="matched-items" id="categoryL-items"></div>
                    </div>
                    <div class="category-item" data-category="N" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <strong>ì¸ì¦/ë³´ì•ˆ/ì‚¬ì´íŠ¸ ê´€ë¦¬</strong>
                        <div class="matched-items" id="categoryN-items"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="result-section" id="resultSection" style="display: none;">
                <div class="result-actions">
                    <button class="btn save-btn" id="save-button">ê²°ê³¼ ì €ì¥</button>
                    <button class="btn secondary-btn" id="back-button" type="button" style="display: none;">ë‹¤ì‹œí•˜ê¸°</button>
                </div>
                <div id="saveProgress" class="progress-bar" style="display: none;"><div class="bar"></div></div>
                <div class="results-display" id="resultsDisplay" style="display: none;">
                    <h4>ë§¤ì¹­ ê²°ê³¼:</h4>
                    <div id="matchResults"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwazelzgjxdHsw3cGlFRTGaW7RypVEl6N-B-m_BaFtNlMdWblaGHCBD9g5g8Rl2TCw/exec';

        const categoryLabels = {
            A: 'CRM/íŒì—…/ëª¨ë‹¬',
            B: 'ë¦¬ë·°',
            C: 'ê³ ê°ìƒë‹´ ë° CSê´€ë¦¬',
            D: 'íšŒì›ê°€ì… ìµœì í™”',
            E: 'ê´‘ê³  ê´€ë¦¬',
            F: 'íŒë§¤ì±„ë„ ë° ì£¼ë¬¸ê´€ë¦¬',
            G: 'SNS/ì†Œì…œë¯¸ë””ì–´',
            H: 'ì˜ìƒ/ë¼ì´ë¸Œì»¤ë¨¸ìŠ¤/ìˆí¼',
            I: 'ë°°ì†¡ ë° ë¬¼ë¥˜',
            J: 'ê²°ì œ',
            K: 'ì½˜í…ì¸  ì œì‘/ê´€ë¦¬',
            L: 'í†µê³„ ë° ë§¤ì¶œ ë¶„ì„',
            N: 'ì¸ì¦/ë³´ì•ˆ/ì‚¬ì´íŠ¸ ê´€ë¦¬'
        };

        const descriptionLabels = {
            A: 'ê³ ê°ê³¼ ìƒë‹´í•  ê¸°ëŠ¥ì´ í•„ìš”í•´',
            B: 'êµ¬ë§¤í‰ì„ ë” ì˜ ë³´ì—¬ì£¼ê³  ì‹¶ì–´. ì•„ì„ì›¹ ë¦¬ë·° ê¸°ëŠ¥ìœ¼ë¡œëŠ” ë¶€ì¡±í•´',
            C: 'ì˜¨ì‚¬ì´íŠ¸ íŒì—… ë„ìš¸ê±°ì•¼',
            D: 'íƒ€ê²Ÿí•´ì„œ ì¹´ì¹´ì˜¤í†¡ ë©”ì„¸ì§€ ë³´ë‚´ê¸°',
            E: 'ë©”íƒ€ ê´‘ê³  ì—°ë™í•´ì•¼í•´',
            F: 'ë‹¤ì–‘í•œ íŒë§¤ ì±„ë„ ê´€ë¦¬í•˜ê¸°', 
            G: 'ì¸ìŠ¤íƒ€ê·¸ë¨ ì½˜í…ì¸  ì—°ë™ì´ í•„ìš”í•´',
            H: 'ìš°ë¦¬ê°€ ë§Œë“ ì˜ìƒ ì˜¬ë ¤ì•¼í•˜ëŠ”ë° ì–´ë–»ê²Œ ì˜¬ë¦¬ì§€',
            I: 'íƒë°° í˜¼ì ê´€ë¦¬ í˜ë“¤ë‹¤',
            J: 'ë°˜ì°¬ ì •ê¸°êµ¬ë… ê²°ì œë¥¼ ë°›ì•„ì•¼í•´',
            K: 'ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ ë§Œë“œëŠ” ê²Œ ë„ˆë¬´ ì–´ë ¤ì›Œ. ì†”ë£¨ì…˜ ì—†ë‚˜',
            L: 'ë„¤ì´ë²„ ì‡¼í•‘ ì¹´íƒˆë¡œê·¸? EP? ì—°ë™í•´ì•¼í•˜ëŠ”ë°',
            M: 'ë‚´ ì‚¬ì´íŠ¸ë¡œ ì–´ë–»ê²Œ ë“¤ì–´ì˜¤ëŠ”ì§€ ì•Œê³  ì „í™˜ìœ¨ ê°™ì€ ê²Œ ê¶ê¸ˆí•´',
            N: 'ì‚¬ì´íŠ¸ íŠ¹ì„±ìƒ ì„±ì¸ì¸ì¦ì´ ê¼­ í•„ìš”í•œë° ì–´ë–»ê²Œ í•˜ì§€',
            O: 'ìš°ë¦¬ ì‚¬ì´íŠ¸ì— ë„¤ì´ë²„í˜ì´ ë¶™ì¼ ê±°ì•¼'
        };

        let userEmail = '';
        let userNickname = '';
        let gameResults = {};

        // ë‹¨ìˆœ í”¼ì…”-ì˜ˆì´ì¸  ì…”í”Œ êµ¬í˜„
        function shuffleArray(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        // ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ íŠ¹ì • ì…€ë ‰í„°ì— í•´ë‹¹í•˜ëŠ” ìì‹ ìš”ì†Œë“¤ì„ ëœë¤ ì¬ë°°ì¹˜
        function shuffleChildren(container, itemSelector) {
            if (!container) return;
            const items = Array.from(container.querySelectorAll(itemSelector));
            shuffleArray(items).forEach(el => container.appendChild(el));
        }

        let initialOrderIndex = {};

        document.addEventListener('DOMContentLoaded', () => {
            const saveButton = document.getElementById('save-button');
            if (saveButton) {
                saveButton.addEventListener('click', handleSaveButtonClick);
            }

            const resetButton = document.getElementById('reset-button');
            if (resetButton) {
                resetButton.addEventListener('click', handleResetButtonClick);
            }
            const backButton = document.getElementById('back-button');
            if (backButton) {
                backButton.addEventListener('click', handleBackButtonClick);
            }

            // í˜ì´ì§€ ì—´ë¦´ ë•Œë§ˆë‹¤ ì„¤ëª…ê³¼ ì¹´í…Œê³ ë¦¬ ìˆœì„œë¥¼ ëœë¤í•˜ê²Œ ì„ê¸°
            const descriptionsContainer = document.querySelector('.descriptions');
            const categoriesContainer = document.querySelector('.categories');
            shuffleChildren(descriptionsContainer, '.description-item');
            shuffleChildren(categoriesContainer, '.category-item');

            // ì„ì¸ ì´í›„ ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ” ì´ˆê¸° ìˆœì„œë¥¼ ê¸°ë¡
            const items = document.querySelectorAll('.descriptions .description-item');
            items.forEach((el, idx) => {
                const id = el.getAttribute('data-description');
                if (id) initialOrderIndex[id] = idx;
            });

            // ì¹´í…Œê³ ë¦¬ ìš”ì•½ ì¹© ìƒì„±
            renderCategorySummary();

            // ë³„ëª… ìƒì„±/í‘œì‹œ
            userNickname = getOrCreateNickname();
            const nickEl = document.getElementById('nicknameDisplay');
            if (nickEl) {
                nickEl.textContent = `${userNickname}`;
            }
        });

        function getOrCreateNickname() {
            // ì €ì¥í•˜ì§€ ì•Šê³  ë§¤ ë¡œë“œë§ˆë‹¤ ìƒˆ ë³„ëª… ìƒì„±
            return generateNickname();
        }

        function regenerateNickname() {
            // íšŒì „ ì• ë‹ˆë©”ì´ì…˜
            const btn = document.querySelector('.nickname-change-btn');
            const icon = btn ? btn.querySelector('.icon') : null;
            if (icon) {
                icon.classList.remove('spin');
                void icon.offsetWidth; // reflow to restart animation
                icon.classList.add('spin');
            }
            const nick = generateNickname();
            userNickname = nick;
            const nickEl = document.getElementById('nicknameDisplay');
            if (nickEl) nickEl.textContent = `${userNickname}`;
        }

        function generateNickname() {
            const adjectives = ['í‘¸ë¥¸','ë°˜ì§ì´ëŠ”','ë¹ ë¥¸','ìš©ê°í•œ','ê·€ì—¬ìš´','ì‹ ë¹„í•œ','ë©‹ì§„','í™œê¸°ì°¬','ì˜ë¦¬í•œ','ë‹¤ì •í•œ','ì˜ˆìœ','ìˆ˜ì¤ì€','ê¹œì°í•œ','ê°„ì§€ë‚˜ëŠ”'];
            const animals = ['ê³ ë˜','ì—¬ìš°','í˜¸ë‘ì´','íŒë‹¤','ë…ìˆ˜ë¦¬','ì‚¬ì','ëŒê³ ë˜','ë‚˜ë¹„','í­ê·„','ëŠ‘ëŒ€','ê¸°ë¦°','ê³µì‘','ì˜¤ì†Œë¦¬','ë„ˆêµ¬ë¦¬'];
            const adj = adjectives[Math.floor(Math.random()*adjectives.length)];
            const ani = animals[Math.floor(Math.random()*animals.length)];
            const num = Math.floor(100 + Math.random()*900);
            return `${adj}-${ani}-${num}`;
        }

        function renderCategorySummary() {
            const wrap = document.getElementById('categorySummary');
            if (!wrap) return;
            wrap.innerHTML = '';
            const order = ['A','B','C','D','E','F','G','H','I','J','K','L','N'];
            order.forEach(key => {
                const label = (categoryLabels && categoryLabels[key]) ? categoryLabels[key] : key;
                const chip = document.createElement('span');
                chip.className = 'chip';
                chip.textContent = label;
                wrap.appendChild(chip);
            });
        }

        function sortLeftByInitialOrder() {
            const container = document.querySelector('.descriptions');
            if (!container) return;
            const items = Array.from(container.querySelectorAll('.description-item'));
            items.sort((a, b) => {
                const ai = initialOrderIndex[a.getAttribute('data-description')] ?? 0;
                const bi = initialOrderIndex[b.getAttribute('data-description')] ?? 0;
                return ai - bi;
            });
            items.forEach(el => container.appendChild(el));
        }

        function reshuffleLists() {
            const descriptionsContainer = document.querySelector('.descriptions');
            const categoriesContainer = document.querySelector('.categories');
            if (descriptionsContainer) {
                shuffleChildren(descriptionsContainer, '.description-item');
            }
            if (categoriesContainer) {
                shuffleChildren(categoriesContainer, '.category-item');
            }
            // ìƒˆ ì…”í”Œ ê¸°ì¤€ìœ¼ë¡œ ì´ˆê¸° ì¸ë±ìŠ¤ ê°±ì‹ 
            initialOrderIndex = {};
            if (descriptionsContainer) {
                const items = descriptionsContainer.querySelectorAll('.description-item');
                items.forEach((el, idx) => {
                    const id = el.getAttribute('data-description');
                    if (id) initialOrderIndex[id] = idx;
                });
            }
        }

        function startGame() {
            // ì´ë©”ì¼ ì…ë ¥ UIê°€ ì—†ìœ¼ë©´ ë³„ëª… ê¸°ë°˜ ìµëª… ì´ë©”ì¼ì„ ìƒì„±
            const emailInput = document.getElementById('emailInput');
            let email = '';
            if (emailInput) {
                email = emailInput.value;
                if (!email || !validateEmail(email)) {
                    alert('ìœ íš¨í•œ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
            } else {
                // ë‹‰ë„¤ì„(+ìˆ«ì)ë§Œ ì‚¬ìš©í•´ ì´ë©”ì¼ í•„ë“œ ì±„ì›€(ë„ë©”ì¸ ì œê±°)
                const nick = userNickname || getOrCreateNickname();
                email = `${nick}`;
            }

            userEmail = email;
            // ë³„ëª…ì€ (ê°€ëŠ¥í•˜ë©´) ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ê°’ì„ ì‚¬ìš©
            userNickname = getOrCreateNickname();
            gameResults = {};
            document.getElementById('emailForm').style.display = 'none';
            document.getElementById('gameArea').style.display = 'block';
            document.getElementById('userInfo').textContent = `í”Œë ˆì´ì–´: ${userEmail}`;
            const resultSection = document.getElementById('resultSection');
            if (resultSection) resultSection.style.display = 'block';
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function allowDrop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.add('drag-over');
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.getAttribute('data-description'));
            ev.target.classList.add('dragging');
        }

        function drop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.remove('drag-over');
            
            const descriptionId = ev.dataTransfer.getData("text");
            const categoryId = ev.currentTarget.getAttribute('data-category');
            const descriptionElement = document.querySelector(`[data-description="${descriptionId}"]`);
            
            if (descriptionElement) {
                descriptionElement.classList.remove('dragging');
                descriptionElement.classList.add('matched');
                descriptionElement.classList.add('in-category');

                const itemsContainer = document.getElementById(`category${categoryId}-items`);
                if (!itemsContainer) return;

                // ì¹´í…Œê³ ë¦¬ë¡œ ì‹¤ì œ ìš”ì†Œë¥¼ ì´ë™
                itemsContainer.appendChild(descriptionElement);

                // ë§¤ì¹­ ê²°ê³¼ ê°±ì‹ 
                gameResults[descriptionId] = categoryId;
            }
        }

        // ì™¼ìª½ ì˜ì—­ìœ¼ë¡œ ë“œë¡­í•˜ë©´ ì›ë˜ ë¦¬ìŠ¤íŠ¸ë¡œ ë³µê·€
        function dropToLeft(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.remove('drag-over');

            const descriptionId = ev.dataTransfer.getData("text");
            const descriptionElement = document.querySelector(`[data-description="${descriptionId}"]`);
            const descriptionsContainer = document.querySelector('.descriptions');

            if (descriptionElement && descriptionsContainer) {
                descriptionElement.classList.remove('dragging');
                descriptionElement.classList.remove('matched');
                descriptionElement.classList.remove('in-category');
                descriptionsContainer.appendChild(descriptionElement);
                // ë§¤ì¹­ í•´ì œ
                delete gameResults[descriptionId];
                // ì´ˆê¸° ìˆœì„œëŒ€ë¡œ ì •ë ¬
                sortLeftByInitialOrder();
            }
        }

        function handleResetButtonClick() {
            const descriptionsContainer = document.querySelector('.descriptions');
            const allDesc = Array.from(document.querySelectorAll('.description-item'));

            allDesc.forEach(el => {
                el.classList.remove('dragging');
                el.classList.remove('matched');
                el.classList.remove('in-category');
                descriptionsContainer.appendChild(el);
            });

            // ì´ˆê¸° ìˆœì„œëŒ€ë¡œ ì •ë ¬
            sortLeftByInitialOrder();

            // ê²°ê³¼ ì´ˆê¸°í™”
            gameResults = {};

            // ê²°ê³¼ ì˜ì—­ ìˆ¨ê¹€
            const resultsDisplay = document.getElementById('resultsDisplay');
            const matchResults = document.getElementById('matchResults');
            if (matchResults) matchResults.innerHTML = '';
            if (resultsDisplay) resultsDisplay.style.display = 'none';

            // ì‹œê°ì  ìƒíƒœ ì´ˆê¸°í™”
            document.querySelectorAll('.category-item').forEach(item => item.classList.remove('drag-over'));
            const desc = document.querySelector('.descriptions');
            if (desc) desc.classList.remove('drag-over');
        }

        document.addEventListener('dragend', function(e) {
            document.querySelectorAll('.category-item').forEach(item => {
                item.classList.remove('drag-over');
            });
            const desc = document.querySelector('.descriptions');
            if (desc) desc.classList.remove('drag-over');
            document.querySelectorAll('.description-item').forEach(item => {
                item.classList.remove('dragging');
            });
        });

        function handleSaveButtonClick() {
            if (!userEmail) {
                alert('ë¨¼ì € ì´ë©”ì¼ì„ ì…ë ¥í•˜ê³  ê²Œì„ì„ ì‹œì‘í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (Object.keys(gameResults).length === 0) {
                alert('ì•„ì§ ë§¤ì¹­ëœ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ì¹´í…Œê³ ë¦¬ì™€ ì„¤ëª…ì„ ë§¤ì¹­í•´ì£¼ì„¸ìš”.');
                return;
            }

            const matchResultSummary = collectMatchResultSummary();
            if (!matchResultSummary) {
                alert('ì €ì¥í•  ë§¤ì¹­ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }

            const now = new Date();
            const timestampIso = now.toISOString();
            const timestampDisplay = now.toLocaleString('ko-KR');

            setSavingUI(true);

            saveToSheetToAppsScript({
                email: userEmail,
                matchResult: matchResultSummary,
                matches: { ...gameResults },
                timestamp: timestampIso,
                onSuccess: () => {
                    setSavingUI(false);
                    alert('ë§¤ì¹­ ê²°ê³¼ê°€ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    renderMatchResults(timestampDisplay);
                    lockGameUI();
                },
                onError: (error) => {
                    console.error('ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ì €ì¥ ì‹¤íŒ¨:', error);
                    setSavingUI(false);
                    alert(`ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\n${error.message || error}`);
                }
            });
        }

        function setSavingUI(saving) {
            const btn = document.getElementById('save-button');
            const bar = document.getElementById('saveProgress');
            if (!btn || !bar) return;
            if (saving) {
                btn.disabled = true;
                if (!btn.dataset.label) btn.dataset.label = btn.textContent;
                btn.textContent = 'ì €ì¥ ì¤‘...';
                bar.style.display = 'block';
            } else {
                btn.disabled = false;
                if (btn.dataset.label) btn.textContent = btn.dataset.label;
                bar.style.display = 'none';
            }
        }

        function lockGameUI() {
            const desc = document.querySelector('.descriptions');
            const cats = document.querySelector('.categories');
            if (desc) desc.classList.add('disable-interaction');
            if (cats) cats.classList.add('disable-interaction');
            document.querySelectorAll('.description-item').forEach(el => el.setAttribute('draggable', 'false'));
            const resetBtn = document.getElementById('reset-button');
            if (resetBtn) resetBtn.disabled = true;
            const saveBtn = document.getElementById('save-button');
            if (saveBtn) saveBtn.disabled = true;
            const backBtn = document.getElementById('back-button');
            if (backBtn) backBtn.style.display = 'inline-flex';
        }

        function unlockGameUI() {
            const desc = document.querySelector('.descriptions');
            const cats = document.querySelector('.categories');
            if (desc) desc.classList.remove('disable-interaction');
            if (cats) cats.classList.remove('disable-interaction');
            document.querySelectorAll('.description-item').forEach(el => el.setAttribute('draggable', 'true'));
            const resetBtn = document.getElementById('reset-button');
            if (resetBtn) resetBtn.disabled = false;
            const saveBtn = document.getElementById('save-button');
            if (saveBtn) saveBtn.disabled = false;
            const backBtn = document.getElementById('back-button');
            if (backBtn) backBtn.style.display = 'none';
        }

        function handleBackButtonClick() {
            // í™”ë©´ ì „í™˜: í™ˆì´ ì•„ë‹Œ, ê²Œì„ ì‹œì‘ ìƒíƒœë¡œ ë³µê·€
            const emailForm = document.getElementById('emailForm');
            const gameArea = document.getElementById('gameArea');
            const resultSection = document.getElementById('resultSection');
            if (emailForm) emailForm.style.display = 'none';
            if (gameArea) gameArea.style.display = 'block';
            if (resultSection) resultSection.style.display = 'block';

            // ìƒíƒœ ì´ˆê¸°í™” (ê²°ê³¼ íŒ¨ë„ì€ ìˆ¨ê¸°ê³ , ê²°ê³¼ ë‚´ìš© ë¹„ì›€)
            const resultsDisplay = document.getElementById('resultsDisplay');
            const matchResults = document.getElementById('matchResults');
            if (matchResults) matchResults.innerHTML = '';
            if (resultsDisplay) resultsDisplay.style.display = 'none';

            // ì§„í–‰ë°”/ë²„íŠ¼ ìƒíƒœ ì´ˆê¸°í™”
            setSavingUI(false);
            const backBtn = document.getElementById('back-button');
            if (backBtn) backBtn.style.display = 'none';

            // í•­ëª© ë³µê·€ ë° ì…”í”Œ
            const descriptionsContainer = document.querySelector('.descriptions');
            const allDesc = Array.from(document.querySelectorAll('.description-item'));
            allDesc.forEach(el => {
                el.classList.remove('dragging', 'matched', 'in-category');
                if (descriptionsContainer) descriptionsContainer.appendChild(el);
            });
            reshuffleLists();

            // ê²Œì„ ìƒíƒœ ì´ˆê¸°í™” ë° UI í™œì„±í™”
            gameResults = {};
            unlockGameUI();

            // ìƒë‹¨ ìœ ì € ì •ë³´ ê°±ì‹ (ë³„ëª… ìœ ì§€)
            const userInfo = document.getElementById('userInfo');
            if (userInfo) {
                const nick = userNickname || getOrCreateNickname();
                userEmail = nick;
                userInfo.textContent = `í”Œë ˆì´ì–´: ${userEmail}`;
            }
        }

        function collectMatchResultSummary() {
            if (Object.keys(gameResults).length === 0) {
                return '';
            }

            return Object.entries(gameResults)
                .map(([descriptionKey, categoryKey]) => {
                    const descriptionLabel = descriptionLabels[descriptionKey] || descriptionKey;
                    const categoryLabel = categoryLabels[categoryKey] || categoryKey;
                    return `${descriptionLabel} â†’ ${categoryLabel}`;
                })
                .join(', ');
        }

        async function saveToSheetToAppsScript({ email, matchResult, matches, timestamp, onSuccess, onError }) {
            if (!SCRIPT_URL || SCRIPT_URL.includes('REPLACE_WITH_YOUR_WEB_APP_ID')) {
                const error = new Error('Apps Script ì›¹ì•± URLì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                if (typeof onError === 'function') {
                    onError(error);
                }
                return;
            }

            try {
                await fetch(SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: JSON.stringify({
                        email,
                        timestamp,
                        matchResult,
                        matches
                    })
                });

                if (typeof onSuccess === 'function') {
                    onSuccess();
                }
            } catch (error) {
                if (typeof onError === 'function') {
                    onError(error);
                }
            }
        }

        function renderMatchResults(timestampDisplay) {
            const matchResultsDiv = document.getElementById('matchResults');
            matchResultsDiv.innerHTML = '';

            Object.entries(gameResults).forEach(([descriptionKey, categoryKey]) => {
                const descriptionLabel = descriptionLabels[descriptionKey] || descriptionKey;
                const categoryLabel = categoryLabels[categoryKey] || categoryKey;

                const matchDiv = document.createElement('div');
                matchDiv.className = 'match-result';
                matchDiv.innerHTML = `<strong>${descriptionLabel}</strong> â†’ <strong>${categoryLabel}</strong>`;
                matchResultsDiv.appendChild(matchDiv);
            });

            const summaryDiv = document.createElement('div');
            summaryDiv.style.marginTop = '15px';
            summaryDiv.style.padding = '10px';
            summaryDiv.style.background = 'var(--matched-bg)';
            summaryDiv.style.border = '1px solid var(--success)';
            summaryDiv.style.borderRadius = '5px';
            summaryDiv.innerHTML = `<strong>ì €ì¥ ì™„ë£Œ!</strong><br>í”Œë ˆì´ì–´: ${userEmail}<br>ì €ì¥ ì‹œê°„: ${timestampDisplay}`;
            matchResultsDiv.appendChild(summaryDiv);

            document.getElementById('resultsDisplay').style.display = 'block';
        }
    </script>
</body>
</html>
